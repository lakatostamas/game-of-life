(this["webpackJsonpgame-of-life"]=this["webpackJsonpgame-of-life"]||[]).push([[0],{11:function(t,n,e){"use strict";e.r(n);var r=e(1),o=e.n(r),c=e(5),u=e.n(c),a=e(2),i=[[0,1],[0,-1],[-1,1],[-1,0],[-1,-1],[1,1],[1,0],[1,-1]];function l(t,n){return Array.from(Array(t)).map((function(){return Array.from(Array(n),(function(){return 0}))}))}function s(t){return t.map((function(n,e){return n.map((function(n,r){var o=function(t,n){var e=Object(a.a)(n,2),r=e[0],o=e[1],c=[t.length,t[0].length];return i.reduce((function(n,e){var u=Object(a.a)(e,2),i=u[0],l=u[1],s=[r+i,o+l];return function(t,n){var e=Object(a.a)(t,2),r=e[0],o=e[1],c=Object(a.a)(n,2),u=c[0],i=c[1];return r>=0&&r<u&&o>=0&&o<i}(s,c)?n+t[s[0]][s[1]]:n}),0)}(t,[e,r]);return o<2||o>3?0:3===o&&0===n?1:n}))}))}function b(t){return t.reduce((function(t,n){return t+n.reduce((function(t,n){return t+n}),0)}),0)}function f(t,n){var e=Object(r.useState)(l(Math.max(t,1),Math.max(n,1))),o=Object(a.a)(e,2),c=o[0],u=o[1],i=Object(r.useState)(null),f=Object(a.a)(i,2),j=f[0],d=f[1],p=Object(r.useState)(0),O=Object(a.a)(p,2),g=O[0],m=O[1],h=Object(r.useState)(0),C=Object(a.a)(h,2),x=C[0],v=C[1],S=Object(r.useState)(!1),k=Object(a.a)(S,2),w=k[0],y=k[1],F=Object(r.useRef)(w);F.current=w;var R=function(){m((function(t){return t+1})),u((function(t){var n=s(t);return v(b(n)),n}))},T=Object(r.useCallback)((function(){F.current&&(R(),setTimeout(T,1e3))}),[]);return{calculateGridNextState:R,runSimulation:T,onToggleCell:function(t){if(!(g>0)){var n=function(t,n){var e=Object(a.a)(n,2),r=e[0],o=e[1],c=t[r][o];return t.map((function(t,n){return t.map((function(t,e){return n===r&&e===o?0===c?1:0:t}))}))}(c,t);v(b(n)),u(n)}},onClear:function(){y(!1),u(l(Math.max(t,1),Math.max(n,1))),d(null),m(0),v(0)},onReset:function(){j&&(y(!1),u(j),m(0),v(b(j)))},onStartStopClick:function(){y(!w),F.current=!w,w||(j||d(c),T())},onStepForward:function(){j||d(c),R()},isRunning:w,populationSize:x,generation:g,grid:c}}var j=e(4),d=e.n(j),p=e(0);var O=function(t){var n=t.rowsCount,e=void 0===n?0:n,r=t.colsCount,o=void 0===r?0:r,c=f(e,o),u=c.onStartStopClick,a=c.onClear,i=c.onReset,l=c.onStepForward,s=c.onToggleCell,b=c.grid,j=c.isRunning,O=c.populationSize,g=c.generation;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{role:"button",onClick:u,children:j?"stop":"start"}),Object(p.jsx)("button",{role:"button",onClick:a,children:"Clear"}),Object(p.jsx)("button",{role:"button",onClick:i,children:"Reset"}),Object(p.jsx)("button",{role:"button",onClick:l,children:"Step forward"}),Object(p.jsxs)("p",{children:["Population size: ",O]}),Object(p.jsxs)("p",{children:["Generation: ",g]}),Object(p.jsx)("div",{className:d.a.grid,style:{gridTemplateColumns:"repeat(".concat(o,", 20px)")},children:b.map((function(t,n){return t.map((function(t,e){return Object(p.jsx)("div",{role:"button",onClick:function(){return s([n,e])},className:d.a.cell,style:{backgroundColor:1===b[n][e]?"green":"transparent"}},"".concat(n,"-").concat(e))}))}))})]})};var g=function(){return Object(p.jsx)("main",{children:Object(p.jsx)(O,{colsCount:50,rowsCount:50})})},m=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,12)).then((function(n){var e=n.getCLS,r=n.getFID,o=n.getFCP,c=n.getLCP,u=n.getTTFB;e(t),r(t),o(t),c(t),u(t)}))};u.a.render(Object(p.jsx)(o.a.StrictMode,{children:Object(p.jsx)(g,{})}),document.getElementById("root")),m()},4:function(t,n,e){t.exports={grid:"Board_grid__2h07E",cell:"Board_cell__27Ihq"}}},[[11,1,2]]]);
//# sourceMappingURL=main.bb90925c.chunk.js.map